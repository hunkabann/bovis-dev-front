
<p-toast></p-toast>

<form [formGroup]="form" (ngSubmit)="guardar()">

    <div class="row">
        <div class="col-12">
            <label for="nombre_fase">Nombre:</label>
            <input 
            id="nombre_fase"
            pInputText
            class="form-control" 
            maxlength="50" 
            formControlName="nombre_fase"
            [ngClass]="{'ng-invalid ng-dirty': esInvalido('nombre_fase')}"
            >
            <div *ngIf="esInvalido('nombre_fase')">
            <small
                class="error-msg"
            >
                {{ obtenerMensajeError('nombre_fase') }}
            </small>
            </div>
        </div>

        <div class="col-12">
            <label for="fecha_inicio">Fecha Inicio:</label>
            <p-calendar 
            id="fecha_inicio"
            [showIcon]="true"
            dateFormat="dd/mm/yy"
            [style]="{ width: '100%' }"
            appendTo="body"
            view="month" 
            dateFormat="m/yy" 
            [minDate]="fechaMinima"
            [maxDate]="fechaMaxima"
            [readonlyInput]="true" 
            [ngClass]="{'ng-invalid ng-dirty': esInvalido('fecha_inicio')}"
            formControlName="fecha_inicio"
            [disabled]="true"
            ></p-calendar>
            <div *ngIf="esInvalido('fecha_inicio')">
            <small
                class="error-msg"
            >
                {{ obtenerMensajeError('fecha_inicio') }}
            </small>
            </div>
        </div>

        <div class="col-12">
            <label for="fecha_fin">Fecha Fin:</label>
            <p-calendar 
            id="fecha_fin"
            [showIcon]="true"
            dateFormat="dd/mm/yy"
            [style]="{ width: '100%' }"
            appendTo="body"
            view="month" 
            dateFormat="m/yy" 
            [minDate]="fechaMinima"
            [maxDate]="fechaMaxima"
            [readonlyInput]="true" 
            [ngClass]="{'ng-invalid ng-dirty': esInvalido('fecha_fin')}"
            formControlName="fecha_fin"
            [disabled]="fechaMaximaDeshabilitada"
            ></p-calendar>
            <div *ngIf="esInvalido('fecha_fin')">
            <small
                class="error-msg"
            >
                {{ obtenerMensajeError('fecha_fin') }}
            </small>
            </div>
        </div>
    </div>
    
    <div class="d-flex justify-content-end mt-2">
        <button type="button" class="btn btn-info" (click)="guardar()" [disabled]="!form.valid">Guardar</button>
    </div>

</form>
